<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Spring Security Example </title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.0.min.js"></script>

</head>
<script>

    $("#submit").click();

    $("#form").load(function(){
        var text = $(this).contents().find("body").text(); //获取到的是json的字符串
        var j = $.parseJSON(text);  //json字符串转换成json对象
        console.log(j)
        $("#span2").html(JSON.stringify(j));
    })
    /**
     * 点击刷新验证码
     * @constructor
     */
    function Code() {
        document.getElementById("img").src="code/image?width=100&"+Math.random();
    }
</script>
<body>
<h2 class="page-header">用户名密码登录</h2>
<div class="row">
    <div class="col-md-6">

        <div class="panel panel-default">
            <div class="panel-body">
                <span id="span2" ></span>
                <form action="authentication/form" method="post" class="form-horizontal">
                    <div class="form-group">
                        <label for="username" class="col-sm-3 control-label">Username</label>

                        <div class="col-sm-9">
                            <input type="text" id="username" name="username" value="" placeholder="Type username"
                                   class="form-control"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password" class="col-sm-3 control-label">Password</label>

                        <div class="col-sm-9">
                            <input type="password" name="password" id="password" value="" placeholder="Type password"
                                   class="form-control"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password" class="col-sm-3 control-label">validateCode</label>

                        <div class="col-sm-9">
                            <div class="col-sm-8">
                                <input type="text" name="imageCode" id="imageCode" value="" placeholder="imageCode"
                                       class="form-control"/>
                            </div>

                            <div class="col-sm-1">
                                <img src="code/image?width=100" onclick="Code()" id="img"/>
                            </div>


                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-9">
                            <input type="submit" value="Login" class="btn btn-primary"/>
                        </div>
                    </div>
                </form>

            </div>
        </div>

    </div>
</div>
</body>
</html>